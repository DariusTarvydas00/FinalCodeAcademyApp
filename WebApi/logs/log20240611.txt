2024-06-11 00:29:31.368 +03:00 [INF] Starting application
2024-06-11 00:29:31.456 +03:00 [INF] Configuring application
2024-06-11 00:29:31.559 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 00:29:31.584 +03:00 [INF] Creating key {c8943c87-0d4c-4d17-a058-fff7ceecdf54} with creation date 2024-06-10 21:29:31Z, activation date 2024-06-10 21:29:31Z, and expiration date 2024-09-08 21:29:31Z.
2024-06-11 00:29:31.591 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-c8943c87-0d4c-4d17-a058-fff7ceecdf54.xml'.
2024-06-11 00:29:31.629 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 00:29:31.631 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 00:29:31.632 +03:00 [INF] Hosting environment: Development
2024-06-11 00:29:31.633 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 00:29:31.903 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 00:29:32.011 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 108.4909ms
2024-06-11 00:29:32.108 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 00:29:32.176 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.8532ms
2024-06-11 00:29:57.587 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 230
2024-06-11 00:29:57.593 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 00:29:57.609 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 00:29:57.627 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 00:29:57.791 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 00:29:57.812 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 181.2524ms
2024-06-11 00:29:57.813 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 00:29:57.815 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 400 null application/problem+json; charset=utf-8 227.8358ms
2024-06-11 00:30:39.154 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 230
2024-06-11 00:30:39.157 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 00:30:39.158 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 00:30:39.167 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 00:30:39.168 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 8.0918ms
2024-06-11 00:30:39.168 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 00:30:39.169 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 400 null application/problem+json; charset=utf-8 14.8593ms
2024-06-11 00:35:00.023 +03:00 [INF] Application is shutting down...
2024-06-11 00:35:02.863 +03:00 [INF] Starting application
2024-06-11 00:35:02.959 +03:00 [INF] Configuring application
2024-06-11 00:35:03.066 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 00:35:03.094 +03:00 [INF] Creating key {b981f484-bd17-4687-90ea-3b812ba7237a} with creation date 2024-06-10 21:35:03Z, activation date 2024-06-10 21:35:03Z, and expiration date 2024-09-08 21:35:03Z.
2024-06-11 00:35:03.100 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-b981f484-bd17-4687-90ea-3b812ba7237a.xml'.
2024-06-11 00:35:03.144 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 00:35:03.146 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 00:35:03.147 +03:00 [INF] Hosting environment: Development
2024-06-11 00:35:03.148 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 00:35:03.410 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 00:35:03.521 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 111.1515ms
2024-06-11 00:35:03.617 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 00:35:03.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.3452ms
2024-06-11 00:35:07.377 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 213
2024-06-11 00:35:07.383 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 00:35:07.400 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 00:35:07.419 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 00:35:07.587 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 00:35:07.609 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 185.7601ms
2024-06-11 00:35:07.610 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 00:35:07.612 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 400 null application/problem+json; charset=utf-8 234.4854ms
2024-06-11 00:35:35.125 +03:00 [INF] Application is shutting down...
2024-06-11 00:35:38.129 +03:00 [INF] Starting application
2024-06-11 00:35:38.218 +03:00 [INF] Configuring application
2024-06-11 00:35:38.320 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 00:35:38.344 +03:00 [INF] Creating key {3e60ef4e-5a81-494e-9302-4153c1e16b01} with creation date 2024-06-10 21:35:38Z, activation date 2024-06-10 21:35:38Z, and expiration date 2024-09-08 21:35:38Z.
2024-06-11 00:35:38.350 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-3e60ef4e-5a81-494e-9302-4153c1e16b01.xml'.
2024-06-11 00:35:38.389 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 00:35:38.391 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 00:35:38.392 +03:00 [INF] Hosting environment: Development
2024-06-11 00:35:38.392 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 00:35:38.651 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 00:35:38.763 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 112.4865ms
2024-06-11 00:35:38.862 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 00:35:38.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.5667ms
2024-06-11 00:35:41.774 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 200
2024-06-11 00:35:41.779 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 00:35:41.796 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 00:35:41.814 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 00:35:41.984 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 00:35:42.004 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 186.0435ms
2024-06-11 00:35:42.005 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 00:35:42.007 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 400 null application/problem+json; charset=utf-8 232.9891ms
2024-06-11 06:50:01.222 +03:00 [INF] Application is shutting down...
2024-06-11 06:50:06.863 +03:00 [INF] Starting application
2024-06-11 06:50:08.105 +03:00 [INF] Configuring application
2024-06-11 06:50:09.132 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 06:50:09.398 +03:00 [INF] Creating key {a63bc835-19d8-4823-9413-1417ba548d93} with creation date 2024-06-11 03:50:09Z, activation date 2024-06-11 03:50:09Z, and expiration date 2024-09-09 03:50:09Z.
2024-06-11 06:50:09.404 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-a63bc835-19d8-4823-9413-1417ba548d93.xml'.
2024-06-11 06:50:09.599 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 06:50:09.601 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 06:50:09.602 +03:00 [INF] Hosting environment: Development
2024-06-11 06:50:09.603 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 06:50:09.844 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 06:50:09.972 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 129.2313ms
2024-06-11 06:50:10.079 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 06:50:10.145 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.4078ms
2024-06-11 06:50:20.989 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 208
2024-06-11 06:50:20.995 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 06:50:21.064 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 06:50:21.081 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 06:50:21.348 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Register (WebApi) - Validation state: "Valid"
2024-06-11 06:50:21.350 +03:00 [INF] Executing Register method for userName:
2024-06-11 06:50:21.351 +03:00 [INF] Registering user with username: k0zY4B8C3qIwyQkKSv5E
2024-06-11 06:50:21.352 +03:00 [INF] Fetching user by username: k0zY4B8C3qIwyQkKSv5E
2024-06-11 06:50:22.830 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 06:50:22.852 +03:00 [WRN] User with username: k0zY4B8C3qIwyQkKSv5E not found
2024-06-11 06:50:22.853 +03:00 [INF] Creating user with username: k0zY4B8C3qIwyQkKSv5E
2024-06-11 06:50:22.855 +03:00 [INF] Creating user with username: k0zY4B8C3qIwyQkKSv5E
2024-06-11 06:50:23.034 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 8000) (DbType = Binary), @p3='?' (Size = 15), @p4='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [PasswordSalt], [Role], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 06:50:23.042 +03:00 [INF] Successfully created user with username: k0zY4B8C3qIwyQkKSv5E
2024-06-11 06:50:23.043 +03:00 [INF] Successfully registered user with username: k0zY4B8C3qIwyQkKSv5E
2024-06-11 06:50:23.043 +03:00 [INF] User registered successfully with userName: k0zY4B8C3qIwyQkKSv5E
2024-06-11 06:50:23.047 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Register (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1695.8632ms.
2024-06-11 06:50:23.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 06:50:23.065 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 1980.169ms
2024-06-11 06:50:23.066 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 06:50:23.076 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 200 null application/json; charset=utf-8 2086.427ms
2024-06-11 06:52:21.744 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 123
2024-06-11 06:52:21.747 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 06:52:21.751 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 06:52:21.756 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 06:52:21.771 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 19.1589ms
2024-06-11 06:52:21.772 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 06:52:21.773 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 400 null application/problem+json; charset=utf-8 28.4975ms
2024-06-11 06:52:56.453 +03:00 [INF] Application is shutting down...
2024-06-11 06:53:01.106 +03:00 [INF] Starting application
2024-06-11 06:53:01.199 +03:00 [INF] Configuring application
2024-06-11 06:53:01.307 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 06:53:01.332 +03:00 [INF] Creating key {e5f30104-8e5a-4ffc-bef9-1422c6fb55ed} with creation date 2024-06-11 03:53:01Z, activation date 2024-06-11 03:53:01Z, and expiration date 2024-09-09 03:53:01Z.
2024-06-11 06:53:01.339 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-e5f30104-8e5a-4ffc-bef9-1422c6fb55ed.xml'.
2024-06-11 06:53:01.390 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 06:53:01.392 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 06:53:01.393 +03:00 [INF] Hosting environment: Development
2024-06-11 06:53:01.393 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 06:53:01.602 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 06:53:01.710 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 109.1525ms
2024-06-11 06:53:01.839 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 06:53:01.908 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.7733ms
2024-06-11 06:53:13.547 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 178
2024-06-11 06:53:13.553 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 06:53:13.569 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 06:53:13.586 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 06:53:13.750 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Register (WebApi) - Validation state: "Valid"
2024-06-11 06:53:13.753 +03:00 [INF] Executing Register method for userName:
2024-06-11 06:53:13.754 +03:00 [INF] Registering user with username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:13.755 +03:00 [INF] Fetching user by username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:14.913 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 06:53:14.936 +03:00 [WRN] User with username: qyegdIupy0hsiezGB4Uo not found
2024-06-11 06:53:14.938 +03:00 [INF] Creating user with username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:14.940 +03:00 [INF] Creating user with username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:15.118 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 8000) (DbType = Binary), @p3='?' (Size = 15), @p4='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [PasswordSalt], [Role], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 06:53:15.126 +03:00 [INF] Successfully created user with username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:15.127 +03:00 [INF] Successfully registered user with username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:15.128 +03:00 [INF] User registered successfully with userName: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:15.132 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Register (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1377.5828ms.
2024-06-11 06:53:15.140 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 06:53:15.149 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 1558.5535ms
2024-06-11 06:53:15.150 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 06:53:15.160 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 200 null application/json; charset=utf-8 1612.7051ms
2024-06-11 06:53:37.353 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 108
2024-06-11 06:53:37.356 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 06:53:37.359 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 06:53:37.364 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 06:53:37.365 +03:00 [INF] Executing Login method for userName: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:37.397 +03:00 [INF] User login attempt with username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:37.398 +03:00 [INF] Fetching user by username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:37.504 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 06:53:37.515 +03:00 [INF] Generating JWT token for username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:37.531 +03:00 [INF] User successfully logged in with username: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:37.532 +03:00 [INF] User logged in successfully with userName: qyegdIupy0hsiezGB4Uo
2024-06-11 06:53:37.532 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 167.3384ms.
2024-06-11 06:53:37.533 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 06:53:37.534 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 173.4305ms
2024-06-11 06:53:37.535 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 06:53:37.535 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 182.0988ms
2024-06-11 06:56:13.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/User/GetById?id=00000000-0000-0000-0000-000000000000 - null null
2024-06-11 06:56:13.133 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-11 06:56:13.137 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-11 06:56:13.137 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/User/GetById?id=00000000-0000-0000-0000-000000000000 - 401 0 null 10.3203ms
2024-06-11 08:11:12.048 +03:00 [INF] Application is shutting down...
2024-06-11 08:11:17.047 +03:00 [INF] Starting application
2024-06-11 08:11:17.140 +03:00 [INF] Configuring application
2024-06-11 08:11:17.249 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 08:11:17.275 +03:00 [INF] Creating key {945393b7-78d1-4cf7-ac83-feb610ef05bb} with creation date 2024-06-11 05:11:17Z, activation date 2024-06-11 05:11:17Z, and expiration date 2024-09-09 05:11:17Z.
2024-06-11 08:11:17.281 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-945393b7-78d1-4cf7-ac83-feb610ef05bb.xml'.
2024-06-11 08:11:17.327 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 08:11:17.329 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 08:11:17.330 +03:00 [INF] Hosting environment: Development
2024-06-11 08:11:17.330 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 08:11:17.955 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 08:11:18.066 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 111.8528ms
2024-06-11 08:11:18.146 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/favicon-16x16.png - null null
2024-06-11 08:11:18.154 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-11 08:11:18.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/favicon-16x16.png - 499 665 image/png 8.5984ms
2024-06-11 08:11:18.171 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 08:11:18.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.4819ms
2024-06-11 08:11:31.977 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 146
2024-06-11 08:11:31.983 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 08:11:32.000 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 08:11:32.017 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 08:11:32.184 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 08:11:32.203 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 183.0232ms
2024-06-11 08:11:32.204 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 08:11:32.206 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 400 null application/problem+json; charset=utf-8 228.7117ms
2024-06-11 08:11:56.752 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 148
2024-06-11 08:11:56.757 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 08:11:56.757 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 08:11:56.769 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Register (WebApi) - Validation state: "Valid"
2024-06-11 08:11:56.771 +03:00 [INF] Executing Register method for userName:
2024-06-11 08:11:56.772 +03:00 [INF] Registering user with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:11:56.774 +03:00 [INF] Fetching user by username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:11:58.540 +03:00 [INF] Executed DbCommand (142ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 08:11:58.561 +03:00 [WRN] User with username: Zn65smryLqkbQsqdy0Bt not found
2024-06-11 08:11:58.562 +03:00 [INF] Creating user with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:11:58.565 +03:00 [INF] Creating user with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:11:58.772 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 8000) (DbType = Binary), @p3='?' (Size = 15), @p4='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [PasswordSalt], [Role], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 08:11:58.781 +03:00 [INF] Successfully created user with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:11:58.781 +03:00 [INF] Successfully registered user with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:11:58.782 +03:00 [INF] User registered successfully with userName: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:11:58.786 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Register (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2013.5647ms.
2024-06-11 08:11:58.789 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 08:11:58.791 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 2032.855ms
2024-06-11 08:11:58.793 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 08:11:58.801 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 200 null application/json; charset=utf-8 2048.3144ms
2024-06-11 08:12:15.394 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 93
2024-06-11 08:12:15.397 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:12:15.401 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 08:12:15.407 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 08:12:15.408 +03:00 [INF] Executing Login method for userName: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:12:15.410 +03:00 [INF] User login attempt with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:12:15.410 +03:00 [INF] Fetching user by username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:12:15.518 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 08:12:15.529 +03:00 [INF] Generating JWT token for username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:12:15.544 +03:00 [INF] User successfully logged in with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:12:15.545 +03:00 [INF] User logged in successfully with userName: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:12:15.545 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 138.1621ms.
2024-06-11 08:12:15.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 08:12:15.547 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 145.6008ms
2024-06-11 08:12:15.548 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:12:15.549 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 154.2367ms
2024-06-11 08:12:29.033 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 257
2024-06-11 08:12:29.063 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:12:29.066 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:12:29.080 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 08:12:29.081 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 14.2617ms
2024-06-11 08:12:29.082 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:12:29.083 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 400 null application/problem+json; charset=utf-8 49.8659ms
2024-06-11 08:32:38.409 +03:00 [INF] Application is shutting down...
2024-06-11 08:32:43.055 +03:00 [INF] Starting application
2024-06-11 08:32:43.148 +03:00 [INF] Configuring application
2024-06-11 08:32:43.257 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 08:32:43.284 +03:00 [INF] Creating key {f4339621-fe26-481d-ac62-cbdd23d15f87} with creation date 2024-06-11 05:32:43Z, activation date 2024-06-11 05:32:43Z, and expiration date 2024-09-09 05:32:43Z.
2024-06-11 08:32:43.290 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-f4339621-fe26-481d-ac62-cbdd23d15f87.xml'.
2024-06-11 08:32:43.328 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 08:32:43.330 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 08:32:43.331 +03:00 [INF] Hosting environment: Development
2024-06-11 08:32:43.332 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 08:32:43.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 08:32:43.673 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 111.0648ms
2024-06-11 08:32:43.700 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - null null
2024-06-11 08:32:43.709 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-11 08:32:43.711 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - 499 143943 text/css 11.1525ms
2024-06-11 08:32:43.790 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 08:32:43.858 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.2893ms
2024-06-11 08:32:52.399 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 93
2024-06-11 08:32:52.405 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 08:32:52.459 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:32:52.475 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 08:32:52.644 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 08:32:52.646 +03:00 [INF] Executing Login method for userName: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:32:52.648 +03:00 [INF] User login attempt with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:32:52.649 +03:00 [INF] Fetching user by username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:32:53.937 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 08:32:54.001 +03:00 [INF] Generating JWT token for username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:32:54.010 +03:00 [INF] User successfully logged in with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:32:54.011 +03:00 [INF] User logged in successfully with userName: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:32:54.015 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1367.245ms.
2024-06-11 08:32:54.020 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 08:32:54.024 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1544.9831ms
2024-06-11 08:32:54.026 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:32:54.035 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1635.0119ms
2024-06-11 08:33:05.437 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 08:33:05.442 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:33:05.446 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:33:05.448 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 08:33:05.645 +03:00 [ERR] Failed executing DbCommand (85ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[ProfilePhoto], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 08:33:05.691 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'DataAccess.MainDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f6cca563-c2fb-4573-adda-d979880e9324
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f6cca563-c2fb-4573-adda-d979880e9324
Error Number:207,State:1,Class:16
2024-06-11 08:33:05.697 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 249.8733ms
2024-06-11 08:33:05.698 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:33:05.699 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DataAccess.Repositories.PersonInformationRepository.GetAllAsync(Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\DataAccess\Repositories\PersonInformationRepository.cs:line 18
   at App.Services.PersonInformationService.GetAllAsync(Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\App\Services\PersonInformationService.cs:line 22
   at WebApi.Controllers.PersonInformationController.GetAll() in C:\Projects\Rider\FinalCodeAcademyApp\WebApi\Controllers\PersonInformationController.cs:line 31
   at lambda_method58(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:f6cca563-c2fb-4573-adda-d979880e9324
Error Number:207,State:1,Class:16
2024-06-11 08:33:05.741 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 500 null text/plain; charset=utf-8 304.519ms
2024-06-11 08:35:36.562 +03:00 [INF] Application is shutting down...
2024-06-11 08:35:39.601 +03:00 [INF] Starting application
2024-06-11 08:35:39.692 +03:00 [INF] Configuring application
2024-06-11 08:35:39.802 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 08:35:39.828 +03:00 [INF] Creating key {27e117ef-ef33-4c90-8209-de6e44038ec4} with creation date 2024-06-11 05:35:39Z, activation date 2024-06-11 05:35:39Z, and expiration date 2024-09-09 05:35:39Z.
2024-06-11 08:35:39.834 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-27e117ef-ef33-4c90-8209-de6e44038ec4.xml'.
2024-06-11 08:35:39.872 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 08:35:39.875 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 08:35:39.876 +03:00 [INF] Hosting environment: Development
2024-06-11 08:35:39.876 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 08:35:40.102 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 08:35:40.212 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 110.6014ms
2024-06-11 08:35:40.329 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 08:35:40.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.334ms
2024-06-11 08:35:44.010 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 93
2024-06-11 08:35:44.016 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 08:35:44.069 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:35:44.085 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 08:35:44.256 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 08:35:44.258 +03:00 [INF] Executing Login method for userName: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:35:44.260 +03:00 [INF] User login attempt with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:35:44.262 +03:00 [INF] Fetching user by username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:35:45.477 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 08:35:45.544 +03:00 [INF] Generating JWT token for username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:35:45.551 +03:00 [INF] User successfully logged in with username: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:35:45.552 +03:00 [INF] User logged in successfully with userName: Zn65smryLqkbQsqdy0Bt
2024-06-11 08:35:45.556 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1295.9671ms.
2024-06-11 08:35:45.563 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 08:35:45.568 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1479.2082ms
2024-06-11 08:35:45.570 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:35:45.579 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1569.1135ms
2024-06-11 08:35:52.836 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 08:35:52.842 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:35:52.845 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:35:52.847 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 08:35:52.984 +03:00 [ERR] Failed executing DbCommand (60ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[ProfilePhoto], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 08:35:52.999 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'DataAccess.MainDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4314b6e7-c5d0-4b9f-94bb-4125f4a38219
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4314b6e7-c5d0-4b9f-94bb-4125f4a38219
Error Number:207,State:1,Class:16
2024-06-11 08:35:53.007 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 160.2923ms
2024-06-11 08:35:53.008 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:35:53.009 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at DataAccess.Repositories.PersonInformationRepository.GetAllAsync(Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\DataAccess\Repositories\PersonInformationRepository.cs:line 18
   at App.Services.PersonInformationService.GetAllAsync(Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\App\Services\PersonInformationService.cs:line 22
   at WebApi.Controllers.PersonInformationController.GetAll() in C:\Projects\Rider\FinalCodeAcademyApp\WebApi\Controllers\PersonInformationController.cs:line 31
   at lambda_method58(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:4314b6e7-c5d0-4b9f-94bb-4125f4a38219
Error Number:207,State:1,Class:16
2024-06-11 08:35:53.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 500 null text/plain; charset=utf-8 189.0261ms
2024-06-11 08:36:49.400 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation/4314b6e7-c5d0-4b9f-94bb-4125f4a38219 - null null
2024-06-11 08:36:49.405 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetById (WebApi)'
2024-06-11 08:36:49.408 +03:00 [INF] Route matched with {action = "GetById", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[App.Dtos.PersonInformationDtos.PersonInformationDto]] GetById(System.Guid) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:36:49.411 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetById (WebApi) - Validation state: "Valid"
2024-06-11 08:36:49.491 +03:00 [ERR] Failed executing DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[ProfilePhoto], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[Id] = @__id_0 AND [p].[UserId] = @__userId_1
2024-06-11 08:36:49.493 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'DataAccess.MainDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4314b6e7-c5d0-4b9f-94bb-4125f4a38219
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4314b6e7-c5d0-4b9f-94bb-4125f4a38219
Error Number:207,State:1,Class:16
2024-06-11 08:36:49.496 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetById (WebApi) in 87.3958ms
2024-06-11 08:36:49.497 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetById (WebApi)'
2024-06-11 08:36:49.497 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserId'.
Invalid column name 'UserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at DataAccess.Repositories.PersonInformationRepository.GetByIdAsync(Guid id, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\DataAccess\Repositories\PersonInformationRepository.cs:line 23
   at App.Services.PersonInformationService.GetByIdAsync(Guid id, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\App\Services\PersonInformationService.cs:line 28
   at WebApi.Controllers.PersonInformationController.GetById(Guid id) in C:\Projects\Rider\FinalCodeAcademyApp\WebApi\Controllers\PersonInformationController.cs:line 44
   at lambda_method68(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:4314b6e7-c5d0-4b9f-94bb-4125f4a38219
Error Number:207,State:1,Class:16
2024-06-11 08:36:49.507 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation/4314b6e7-c5d0-4b9f-94bb-4125f4a38219 - 500 null text/plain; charset=utf-8 106.5652ms
2024-06-11 08:36:58.752 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 205
2024-06-11 08:36:58.755 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:36:58.758 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:36:58.772 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 08:36:58.788 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 29.3938ms
2024-06-11 08:36:58.789 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:36:58.790 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 400 null application/problem+json; charset=utf-8 37.607ms
2024-06-11 08:40:21.406 +03:00 [INF] Application is shutting down...
2024-06-11 08:40:24.424 +03:00 [INF] Starting application
2024-06-11 08:40:24.514 +03:00 [INF] Configuring application
2024-06-11 08:40:24.621 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 08:40:24.647 +03:00 [INF] Creating key {163374a0-7cd4-4764-85c8-9c53fc69389d} with creation date 2024-06-11 05:40:24Z, activation date 2024-06-11 05:40:24Z, and expiration date 2024-09-09 05:40:24Z.
2024-06-11 08:40:24.653 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-163374a0-7cd4-4764-85c8-9c53fc69389d.xml'.
2024-06-11 08:40:24.691 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 08:40:24.693 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 08:40:24.694 +03:00 [INF] Hosting environment: Development
2024-06-11 08:40:24.695 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 08:40:24.962 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 08:40:25.069 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 108.1132ms
2024-06-11 08:40:25.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 08:40:25.234 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.5768ms
2024-06-11 08:40:48.662 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 256
2024-06-11 08:40:48.668 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 08:40:48.686 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 08:40:48.704 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 08:40:48.871 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Register (WebApi) - Validation state: "Valid"
2024-06-11 08:40:48.874 +03:00 [INF] Executing Register method for userName: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:40:48.875 +03:00 [INF] Registering user with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:40:48.876 +03:00 [INF] Fetching user by username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:40:50.110 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 08:40:50.131 +03:00 [WRN] User with username: FhMP6Thee8bj1aHsV8Y0 not found
2024-06-11 08:40:50.133 +03:00 [INF] Creating user with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:40:50.134 +03:00 [INF] Creating user with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:40:50.341 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 8000) (DbType = Binary), @p3='?' (Size = 15), @p4='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [PasswordSalt], [Role], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 08:40:50.350 +03:00 [INF] Successfully created user with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:40:50.351 +03:00 [INF] Successfully registered user with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:40:50.351 +03:00 [INF] User registered successfully with userName: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:40:50.356 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Register (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1480.0278ms.
2024-06-11 08:40:50.363 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 08:40:50.371 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 1662.6173ms
2024-06-11 08:40:50.372 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 08:40:50.381 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 200 null application/json; charset=utf-8 1718.5607ms
2024-06-11 08:41:09.903 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 147
2024-06-11 08:41:09.906 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:41:09.910 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 08:41:09.915 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 08:41:09.916 +03:00 [INF] Executing Login method for userName: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:41:09.918 +03:00 [INF] User login attempt with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:41:09.919 +03:00 [INF] Fetching user by username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:41:10.017 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 08:41:10.030 +03:00 [INF] Generating JWT token for username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:41:10.046 +03:00 [INF] User successfully logged in with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:41:10.046 +03:00 [INF] User logged in successfully with userName: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:41:10.047 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 131.0502ms.
2024-06-11 08:41:10.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 08:41:10.049 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 137.6081ms
2024-06-11 08:41:10.050 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:41:10.052 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 148.9744ms
2024-06-11 08:41:18.305 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 08:41:18.336 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:41:18.339 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:41:18.341 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 08:41:18.451 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[ProfilePhoto], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 08:41:18.463 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 121.2217ms.
2024-06-11 08:41:18.464 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 08:41:18.472 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 132.1382ms
2024-06-11 08:41:18.473 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:41:18.474 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 168.9793ms
2024-06-11 08:41:25.953 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 205
2024-06-11 08:41:25.956 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:41:25.959 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:41:25.969 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 08:41:25.983 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 23.582ms
2024-06-11 08:41:25.985 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:41:25.985 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 400 null application/problem+json; charset=utf-8 32.5625ms
2024-06-11 08:41:50.164 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 199
2024-06-11 08:41:50.167 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:41:50.168 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:41:50.171 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 08:41:50.172 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 3.8287ms
2024-06-11 08:41:50.173 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:41:50.174 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 400 null application/problem+json; charset=utf-8 9.962ms
2024-06-11 08:42:07.542 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 207
2024-06-11 08:42:07.543 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:42:07.544 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:42:07.546 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-11 08:42:07.546 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 1.3256ms
2024-06-11 08:42:07.547 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:42:07.548 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 400 null application/problem+json; charset=utf-8 6.0064ms
2024-06-11 08:43:00.079 +03:00 [INF] Application is shutting down...
2024-06-11 08:43:18.376 +03:00 [INF] Starting application
2024-06-11 08:43:18.470 +03:00 [INF] Configuring application
2024-06-11 08:43:18.581 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 08:43:18.607 +03:00 [INF] Creating key {0ac4ed41-0301-40d2-a1e9-0a8b7c443d19} with creation date 2024-06-11 05:43:18Z, activation date 2024-06-11 05:43:18Z, and expiration date 2024-09-09 05:43:18Z.
2024-06-11 08:43:18.613 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-0ac4ed41-0301-40d2-a1e9-0a8b7c443d19.xml'.
2024-06-11 08:43:18.652 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 08:43:18.655 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 08:43:18.655 +03:00 [INF] Hosting environment: Development
2024-06-11 08:43:18.656 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 08:43:18.783 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 08:43:18.893 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 110.2072ms
2024-06-11 08:43:18.989 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 08:43:19.058 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.565ms
2024-06-11 08:43:25.829 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 147
2024-06-11 08:43:25.835 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 08:43:25.890 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:43:25.908 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 08:43:26.074 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 08:43:26.077 +03:00 [INF] Executing Login method for userName: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:43:26.079 +03:00 [INF] User login attempt with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:43:26.080 +03:00 [INF] Fetching user by username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:43:27.334 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 08:43:27.402 +03:00 [INF] Generating JWT token for username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:43:27.410 +03:00 [INF] User successfully logged in with username: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:43:27.411 +03:00 [INF] User logged in successfully with userName: FhMP6Thee8bj1aHsV8Y0
2024-06-11 08:43:27.415 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1336.0905ms.
2024-06-11 08:43:27.422 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 08:43:27.426 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1513.6713ms
2024-06-11 08:43:27.428 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 08:43:27.436 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1607.302ms
2024-06-11 08:43:35.679 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 177
2024-06-11 08:43:35.685 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:43:35.688 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:43:35.701 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.Add (WebApi) - Validation state: "Valid"
2024-06-11 08:43:35.930 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PersonInformations] ([Id], [Birthday], [Email], [FirstName], [Gender], [LastName], [PersonalCode], [PhoneNumber], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-06-11 08:43:35.939 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 237.876ms.
2024-06-11 08:43:35.941 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 08:43:35.946 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 256.452ms
2024-06-11 08:43:35.947 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:43:35.948 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 268.698ms
2024-06-11 08:43:41.169 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 08:43:41.173 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:43:41.176 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:43:41.179 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 08:43:41.299 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 08:43:41.311 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 131.3894ms.
2024-06-11 08:43:41.312 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 08:43:41.321 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 143.312ms
2024-06-11 08:43:41.322 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:43:41.322 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 152.8906ms
2024-06-11 08:43:59.733 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 177
2024-06-11 08:43:59.735 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:43:59.736 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:43:59.739 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.Add (WebApi) - Validation state: "Valid"
2024-06-11 08:43:59.804 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PersonInformations] ([Id], [Birthday], [Email], [FirstName], [Gender], [LastName], [PersonalCode], [PhoneNumber], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-06-11 08:43:59.806 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 66.8016ms.
2024-06-11 08:43:59.807 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 08:43:59.808 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 71.212ms
2024-06-11 08:43:59.808 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 08:43:59.810 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 77.1679ms
2024-06-11 08:44:02.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 08:44:02.552 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:44:02.552 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 08:44:02.553 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 08:44:02.618 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 08:44:02.619 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.1227ms.
2024-06-11 08:44:02.620 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 08:44:02.621 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 67.5891ms
2024-06-11 08:44:02.621 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 08:44:02.622 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 72.4882ms
2024-06-11 15:46:04.044 +03:00 [INF] Application is shutting down...
2024-06-11 15:46:12.177 +03:00 [INF] Starting application
2024-06-11 15:46:13.263 +03:00 [INF] Configuring application
2024-06-11 15:46:14.500 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 15:46:14.913 +03:00 [INF] Creating key {4ab64ad8-353b-4641-9fd4-5bb4142cbe43} with creation date 2024-06-11 12:46:14Z, activation date 2024-06-11 12:46:14Z, and expiration date 2024-09-09 12:46:14Z.
2024-06-11 15:46:14.920 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-4ab64ad8-353b-4641-9fd4-5bb4142cbe43.xml'.
2024-06-11 15:46:15.107 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 15:46:15.109 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 15:46:15.110 +03:00 [INF] Hosting environment: Development
2024-06-11 15:46:15.111 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 15:46:15.397 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 15:46:15.527 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 130.8641ms
2024-06-11 15:46:15.630 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 15:46:15.698 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.9638ms
2024-06-11 16:01:38.253 +03:00 [INF] Application is shutting down...
2024-06-11 16:01:41.577 +03:00 [INF] Starting application
2024-06-11 16:01:41.669 +03:00 [INF] Configuring application
2024-06-11 16:01:41.777 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 16:01:41.806 +03:00 [INF] Creating key {64acaebe-c098-49d4-8c64-ccb1e879adcb} with creation date 2024-06-11 13:01:41Z, activation date 2024-06-11 13:01:41Z, and expiration date 2024-09-09 13:01:41Z.
2024-06-11 16:01:41.812 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-64acaebe-c098-49d4-8c64-ccb1e879adcb.xml'.
2024-06-11 16:01:41.854 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 16:01:41.856 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 16:01:41.857 +03:00 [INF] Hosting environment: Development
2024-06-11 16:01:41.857 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 16:01:42.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:01:42.602 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 108.656ms
2024-06-11 16:01:42.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/favicon-16x16.png - null null
2024-06-11 16:01:42.684 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-11 16:01:42.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/favicon-16x16.png - 499 665 image/png 8.5965ms
2024-06-11 16:01:42.709 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:01:42.779 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.3178ms
2024-06-11 16:01:52.283 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 177
2024-06-11 16:01:52.292 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 16:01:52.370 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2024-06-11 16:01:52.376 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-11 16:01:52.377 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 401 0 null 93.9195ms
2024-06-11 16:25:18.359 +03:00 [INF] Application is shutting down...
2024-06-11 16:25:23.601 +03:00 [INF] Starting application
2024-06-11 16:25:23.694 +03:00 [INF] Configuring application
2024-06-11 16:25:23.804 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 16:25:23.830 +03:00 [INF] Creating key {6e09702c-383c-469f-853b-3535b58f25fc} with creation date 2024-06-11 13:25:23Z, activation date 2024-06-11 13:25:23Z, and expiration date 2024-09-09 13:25:23Z.
2024-06-11 16:25:23.836 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-6e09702c-383c-469f-853b-3535b58f25fc.xml'.
2024-06-11 16:25:23.876 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 16:25:23.879 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 16:25:23.880 +03:00 [INF] Hosting environment: Development
2024-06-11 16:25:23.880 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 16:25:24.063 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:25:24.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 109.6008ms
2024-06-11 16:25:24.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - null null
2024-06-11 16:25:24.213 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-11 16:25:24.214 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - 499 143943 text/css 10.9551ms
2024-06-11 16:25:24.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:25:24.350 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.6175ms
2024-06-11 16:25:28.999 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:25:29.004 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 16:25:29.022 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2024-06-11 16:25:29.026 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-11 16:25:29.027 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 401 0 null 27.2727ms
2024-06-11 16:25:50.344 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 160
2024-06-11 16:25:50.351 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 16:25:50.382 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 16:25:50.747 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Register (WebApi) - Validation state: "Valid"
2024-06-11 16:25:50.751 +03:00 [INF] Executing Register method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:25:50.753 +03:00 [INF] Registering user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:25:50.755 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:25:53.020 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 16:25:53.065 +03:00 [WRN] User with username: NinWnN7v8HOwsKPvNkNr not found
2024-06-11 16:25:53.068 +03:00 [INF] Creating user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:25:53.071 +03:00 [INF] Creating user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:25:53.368 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 8000) (DbType = Binary), @p3='?' (Size = 15), @p4='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [PasswordSalt], [Role], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 16:25:53.376 +03:00 [INF] Successfully created user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:25:53.377 +03:00 [INF] Successfully registered user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:25:53.377 +03:00 [INF] User registered successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:25:53.381 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Register (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2629.2144ms.
2024-06-11 16:25:53.387 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 16:25:53.405 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 3015.9151ms
2024-06-11 16:25:53.412 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 16:25:53.422 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 200 null application/json; charset=utf-8 3077.6326ms
2024-06-11 16:26:10.092 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 16:26:10.097 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:26:10.103 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 16:26:10.112 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 16:26:10.114 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:26:10.159 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:26:10.160 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:26:10.279 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 16:26:10.291 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:26:10.320 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:26:10.321 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:26:10.323 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 209.7336ms.
2024-06-11 16:26:10.326 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 16:26:10.328 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 223.0133ms
2024-06-11 16:26:10.331 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:26:10.332 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 239.9012ms
2024-06-11 16:26:17.931 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:26:17.969 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2024-06-11 16:26:17.971 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-11 16:26:17.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 403 0 null 39.8609ms
2024-06-11 16:26:22.523 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 177
2024-06-11 16:26:22.527 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2024-06-11 16:26:22.528 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-11 16:26:22.529 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 403 0 null 6.1488ms
2024-06-11 16:26:35.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:26:35.855 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2024-06-11 16:26:35.860 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-11 16:26:35.861 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 403 0 null 10.3344ms
2024-06-11 16:26:51.472 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PlaceOfResidence - null null
2024-06-11 16:26:51.474 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi)'
2024-06-11 16:26:51.478 +03:00 [INF] Route matched with {action = "GetAll", controller = "PlaceOfResidence"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceDto]]] GetAll() on controller WebApi.Controllers.PlaceOfResidenceController (WebApi).
2024-06-11 16:26:51.482 +03:00 [INF] Executing action method WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:26:51.484 +03:00 [INF] Executing GetAll method
2024-06-11 16:26:51.630 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ApartmentNumber], [p].[City], [p].[HouseNumber], [p].[PersonInformationId], [p].[Street], [p].[UserId]
FROM [PlaceOfResidences] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:26:51.649 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:26:51.650 +03:00 [INF] Executed action method WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 167.6958ms.
2024-06-11 16:26:51.655 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:26:51.665 +03:00 [INF] Executed action WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi) in 185.2547ms
2024-06-11 16:26:51.666 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi)'
2024-06-11 16:26:51.668 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PlaceOfResidence - 200 null application/json; charset=utf-8 196.3667ms
2024-06-11 16:27:05.374 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:27:05.375 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2024-06-11 16:27:05.376 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-11 16:27:05.377 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 403 0 null 2.836ms
2024-06-11 16:27:51.460 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:27:51.462 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2024-06-11 16:27:51.463 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-11 16:27:51.464 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 403 0 null 4.0521ms
2024-06-11 16:27:56.262 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:27:56.266 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2024-06-11 16:27:56.267 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-11 16:27:56.268 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 403 0 null 5.9975ms
2024-06-11 16:35:38.171 +03:00 [INF] Application is shutting down...
2024-06-11 16:35:42.995 +03:00 [INF] Starting application
2024-06-11 16:35:43.086 +03:00 [INF] Configuring application
2024-06-11 16:35:43.195 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 16:35:43.223 +03:00 [INF] Creating key {16794b25-0301-4c88-b06d-37d48d9fcf4d} with creation date 2024-06-11 13:35:43Z, activation date 2024-06-11 13:35:43Z, and expiration date 2024-09-09 13:35:43Z.
2024-06-11 16:35:43.229 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-16794b25-0301-4c88-b06d-37d48d9fcf4d.xml'.
2024-06-11 16:35:43.268 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 16:35:43.271 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 16:35:43.272 +03:00 [INF] Hosting environment: Development
2024-06-11 16:35:43.272 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 16:35:43.505 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:35:43.611 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 106.755ms
2024-06-11 16:35:43.642 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - null null
2024-06-11 16:35:43.654 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-11 16:35:43.655 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - 499 143943 text/css 12.553ms
2024-06-11 16:35:43.713 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:35:43.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.2962ms
2024-06-11 16:36:04.293 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 16:36:04.300 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 16:36:04.353 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:36:04.370 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 16:36:04.537 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 16:36:04.539 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:36:04.541 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:36:04.543 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:36:06.198 +03:00 [INF] Executed DbCommand (121ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 16:36:06.323 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:36:06.337 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:36:06.339 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:36:06.345 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1802.9059ms.
2024-06-11 16:36:06.355 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 16:36:06.360 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1986.9258ms
2024-06-11 16:36:06.363 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:36:06.382 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 2088.6601ms
2024-06-11 16:36:12.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:36:12.540 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:36:12.545 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 16:36:12.556 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:36:12.559 +03:00 [INF] Executing GetAll method
2024-06-11 16:36:12.758 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:36:12.781 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:36:12.784 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 226.4898ms.
2024-06-11 16:36:12.787 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:36:12.806 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 252.1066ms
2024-06-11 16:36:12.812 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:36:12.813 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 283.2595ms
2024-06-11 16:36:32.192 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 177
2024-06-11 16:36:32.196 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 16:36:32.201 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 16:36:32.220 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.Add (WebApi) - Validation state: "Valid"
2024-06-11 16:36:32.222 +03:00 [INF] Executing Add method
2024-06-11 16:36:32.498 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PersonInformations] ([Id], [Birthday], [Email], [FirstName], [Gender], [LastName], [PersonalCode], [PhoneNumber], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-06-11 16:36:32.516 +03:00 [INF] Person Information added successfully
2024-06-11 16:36:32.523 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 302.0177ms.
2024-06-11 16:36:32.524 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 16:36:32.526 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 323.2985ms
2024-06-11 16:36:32.527 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 16:36:32.531 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 338.7056ms
2024-06-11 16:36:36.739 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:36:36.741 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:36:36.742 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 16:36:36.745 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:36:36.745 +03:00 [INF] Executing GetAll method
2024-06-11 16:36:36.826 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:36:36.831 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:36:36.832 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 86.2011ms.
2024-06-11 16:36:36.832 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:36:36.837 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 94.0441ms
2024-06-11 16:36:36.838 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:36:36.839 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 100.025ms
2024-06-11 16:36:47.499 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PlaceOfResidence - application/json 88
2024-06-11 16:36:47.502 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PlaceOfResidenceController.Add (WebApi)'
2024-06-11 16:36:47.508 +03:00 [INF] Route matched with {action = "Add", controller = "PlaceOfResidence"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceCreateDto) on controller WebApi.Controllers.PlaceOfResidenceController (WebApi).
2024-06-11 16:36:47.514 +03:00 [INF] Executing action method WebApi.Controllers.PlaceOfResidenceController.Add (WebApi) - Validation state: "Valid"
2024-06-11 16:36:47.520 +03:00 [INF] Executing Add method
2024-06-11 16:36:47.526 +03:00 [ERR] Error occurred while adding place of residence
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PlaceOfResidenceCreateDto -> PlaceOfResidence
App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceCreateDto -> DataAccess.Entities.PlaceOfResidence
   at lambda_method185(Closure, Object, PlaceOfResidence, ResolutionContext)
   at App.Services.PlaceOfResidenceService.AddAsync(PlaceOfResidenceCreateDto placeOfResidenceDto, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\App\Services\PlaceOfResidenceService.cs:line 38
   at WebApi.Controllers.PlaceOfResidenceController.Add(PlaceOfResidenceCreateDto dto) in C:\Projects\Rider\FinalCodeAcademyApp\WebApi\Controllers\PlaceOfResidenceController.cs:line 76
2024-06-11 16:36:47.596 +03:00 [INF] Executed action method WebApi.Controllers.PlaceOfResidenceController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 77.2677ms.
2024-06-11 16:36:47.597 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-06-11 16:36:47.598 +03:00 [INF] Executed action WebApi.Controllers.PlaceOfResidenceController.Add (WebApi) in 89.1399ms
2024-06-11 16:36:47.599 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PlaceOfResidenceController.Add (WebApi)'
2024-06-11 16:36:47.599 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PlaceOfResidence - 500 null text/plain; charset=utf-8 100.7423ms
2024-06-11 16:45:17.154 +03:00 [INF] Application is shutting down...
2024-06-11 16:46:22.926 +03:00 [INF] Starting application
2024-06-11 16:46:23.019 +03:00 [INF] Configuring application
2024-06-11 16:46:23.128 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 16:46:23.155 +03:00 [INF] Creating key {7d9e025e-ebba-4f56-ad62-360c1e111731} with creation date 2024-06-11 13:46:23Z, activation date 2024-06-11 13:46:23Z, and expiration date 2024-09-09 13:46:23Z.
2024-06-11 16:46:23.161 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-7d9e025e-ebba-4f56-ad62-360c1e111731.xml'.
2024-06-11 16:46:23.203 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 16:46:23.205 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 16:46:23.206 +03:00 [INF] Hosting environment: Development
2024-06-11 16:46:23.206 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 16:46:23.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:46:23.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 108.6239ms
2024-06-11 16:46:23.678 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:46:23.747 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.2948ms
2024-06-11 16:46:28.745 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 16:46:28.751 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 16:46:28.807 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:46:28.825 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 16:46:28.993 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 16:46:28.995 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:46:28.996 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:46:28.998 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:46:30.274 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 16:46:30.340 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:46:30.347 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:46:30.348 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:46:30.352 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1355.5892ms.
2024-06-11 16:46:30.360 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 16:46:30.364 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1534.8428ms
2024-06-11 16:46:30.365 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:46:30.374 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1628.8598ms
2024-06-11 16:46:36.902 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:46:36.911 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:46:36.916 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 16:46:36.931 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:46:36.935 +03:00 [INF] Executing GetAll method
2024-06-11 16:46:37.147 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:46:37.175 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:46:37.177 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 243.6309ms.
2024-06-11 16:46:37.178 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:46:37.193 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 263.0584ms
2024-06-11 16:46:37.195 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:46:37.196 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 293.5469ms
2024-06-11 16:46:41.727 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PlaceOfResidence - null null
2024-06-11 16:46:41.731 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi)'
2024-06-11 16:46:41.734 +03:00 [INF] Route matched with {action = "GetAll", controller = "PlaceOfResidence"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceDto]]] GetAll() on controller WebApi.Controllers.PlaceOfResidenceController (WebApi).
2024-06-11 16:46:41.738 +03:00 [INF] Executing action method WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:46:41.741 +03:00 [INF] Executing GetAll method
2024-06-11 16:46:41.824 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ApartmentNumber], [p].[City], [p].[HouseNumber], [p].[PersonInformationId], [p].[Street], [p].[UserId]
FROM [PlaceOfResidences] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:46:41.829 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:46:41.831 +03:00 [INF] Executed action method WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 91.9553ms.
2024-06-11 16:46:41.833 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:46:41.836 +03:00 [INF] Executed action WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi) in 100.4312ms
2024-06-11 16:46:41.840 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi)'
2024-06-11 16:46:41.841 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PlaceOfResidence - 200 null application/json; charset=utf-8 114.336ms
2024-06-11 16:46:46.951 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PlaceOfResidence - application/json 88
2024-06-11 16:46:46.953 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PlaceOfResidenceController.Add (WebApi)'
2024-06-11 16:46:46.958 +03:00 [INF] Route matched with {action = "Add", controller = "PlaceOfResidence"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceCreateDto) on controller WebApi.Controllers.PlaceOfResidenceController (WebApi).
2024-06-11 16:46:46.966 +03:00 [INF] Executing action method WebApi.Controllers.PlaceOfResidenceController.Add (WebApi) - Validation state: "Valid"
2024-06-11 16:46:46.967 +03:00 [INF] Executing Add method
2024-06-11 16:46:47.141 +03:00 [ERR] Failed executing DbCommand (74ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaceOfResidences] ([Id], [ApartmentNumber], [City], [HouseNumber], [PersonInformationId], [Street], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-11 16:46:47.162 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.MainDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PlaceOfResidences_PersonInformations_PersonInformationId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.PersonInformations", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:29d2d1af-d61a-4f9a-9b02-b688d49c88ef
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PlaceOfResidences_PersonInformations_PersonInformationId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.PersonInformations", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:29d2d1af-d61a-4f9a-9b02-b688d49c88ef
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-11 16:46:47.168 +03:00 [ERR] Error occurred while adding place of residence
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PlaceOfResidences_PersonInformations_PersonInformationId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.PersonInformations", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:29d2d1af-d61a-4f9a-9b02-b688d49c88ef
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DataAccess.Repositories.PlaceOfResidenceRepository.AddAsync(PlaceOfResidence entity, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\DataAccess\Repositories\PlaceOfResidenceRepository.cs:line 31
   at App.Services.PlaceOfResidenceService.AddAsync(PlaceOfResidenceCreateDto placeOfResidenceDto, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\App\Services\PlaceOfResidenceService.cs:line 40
   at WebApi.Controllers.PlaceOfResidenceController.Add(PlaceOfResidenceCreateDto dto) in C:\Projects\Rider\FinalCodeAcademyApp\WebApi\Controllers\PlaceOfResidenceController.cs:line 76
2024-06-11 16:46:47.183 +03:00 [INF] Executed action method WebApi.Controllers.PlaceOfResidenceController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 216.6559ms.
2024-06-11 16:46:47.184 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-06-11 16:46:47.185 +03:00 [INF] Executed action WebApi.Controllers.PlaceOfResidenceController.Add (WebApi) in 225.1883ms
2024-06-11 16:46:47.185 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PlaceOfResidenceController.Add (WebApi)'
2024-06-11 16:46:47.187 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PlaceOfResidence - 500 null text/plain; charset=utf-8 236.4487ms
2024-06-11 16:47:14.488 +03:00 [INF] Application is shutting down...
2024-06-11 16:47:17.662 +03:00 [INF] Starting application
2024-06-11 16:47:17.755 +03:00 [INF] Configuring application
2024-06-11 16:47:17.863 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 16:47:17.889 +03:00 [INF] Creating key {e0509fb8-4e1f-41b0-8596-be2400d2c0ac} with creation date 2024-06-11 13:47:17Z, activation date 2024-06-11 13:47:17Z, and expiration date 2024-09-09 13:47:17Z.
2024-06-11 16:47:17.895 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-e0509fb8-4e1f-41b0-8596-be2400d2c0ac.xml'.
2024-06-11 16:47:17.931 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 16:47:17.934 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 16:47:17.935 +03:00 [INF] Hosting environment: Development
2024-06-11 16:47:17.935 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 16:47:18.209 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:47:18.315 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 107.1065ms
2024-06-11 16:47:18.412 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:47:18.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.9436ms
2024-06-11 16:47:22.526 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 16:47:22.531 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 16:47:22.583 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:47:22.601 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 16:47:22.766 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 16:47:22.769 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:47:22.770 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:47:22.772 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:47:24.016 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 16:47:24.082 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:47:24.089 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:47:24.090 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:47:24.094 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1324.0342ms.
2024-06-11 16:47:24.102 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 16:47:24.106 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1500.4646ms
2024-06-11 16:47:24.107 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:47:24.118 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1592.1101ms
2024-06-11 16:47:32.117 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PlaceOfResidence - application/json 88
2024-06-11 16:47:32.126 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PlaceOfResidenceController.Add (WebApi)'
2024-06-11 16:47:32.137 +03:00 [INF] Route matched with {action = "Add", controller = "PlaceOfResidence"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceCreateDto) on controller WebApi.Controllers.PlaceOfResidenceController (WebApi).
2024-06-11 16:47:32.156 +03:00 [INF] Executing action method WebApi.Controllers.PlaceOfResidenceController.Add (WebApi) - Validation state: "Valid"
2024-06-11 16:47:32.164 +03:00 [INF] Executing Add method
2024-06-11 16:47:32.516 +03:00 [ERR] Failed executing DbCommand (65ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaceOfResidences] ([Id], [ApartmentNumber], [City], [HouseNumber], [PersonInformationId], [Street], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-11 16:47:32.536 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.MainDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PlaceOfResidences_PersonInformations_PersonInformationId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.PersonInformations", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0007343f-e901-4485-9e2e-ca3beb1f0769
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PlaceOfResidences_PersonInformations_PersonInformationId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.PersonInformations", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0007343f-e901-4485-9e2e-ca3beb1f0769
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-11 16:47:32.541 +03:00 [ERR] Error occurred while adding place of residence
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PlaceOfResidences_PersonInformations_PersonInformationId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.PersonInformations", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0007343f-e901-4485-9e2e-ca3beb1f0769
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DataAccess.Repositories.PlaceOfResidenceRepository.AddAsync(PlaceOfResidence entity, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\DataAccess\Repositories\PlaceOfResidenceRepository.cs:line 31
   at App.Services.PlaceOfResidenceService.AddAsync(PlaceOfResidenceCreateDto placeOfResidenceDto, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\App\Services\PlaceOfResidenceService.cs:line 40
   at WebApi.Controllers.PlaceOfResidenceController.Add(PlaceOfResidenceCreateDto dto) in C:\Projects\Rider\FinalCodeAcademyApp\WebApi\Controllers\PlaceOfResidenceController.cs:line 78
2024-06-11 16:47:32.548 +03:00 [INF] Executed action method WebApi.Controllers.PlaceOfResidenceController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 385.8693ms.
2024-06-11 16:47:32.549 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-06-11 16:47:32.550 +03:00 [INF] Executed action WebApi.Controllers.PlaceOfResidenceController.Add (WebApi) in 406.8805ms
2024-06-11 16:47:32.551 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PlaceOfResidenceController.Add (WebApi)'
2024-06-11 16:47:32.552 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PlaceOfResidence - 500 null text/plain; charset=utf-8 435.7741ms
2024-06-11 16:49:23.123 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:49:23.125 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 1.8804ms
2024-06-11 16:49:23.255 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:49:23.260 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.1067ms
2024-06-11 16:49:28.495 +03:00 [INF] Application is shutting down...
2024-06-11 16:49:31.496 +03:00 [INF] Starting application
2024-06-11 16:49:31.587 +03:00 [INF] Configuring application
2024-06-11 16:49:31.694 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 16:49:31.721 +03:00 [INF] Creating key {bc1512d2-6914-4fbf-9a82-c2626a31bc8f} with creation date 2024-06-11 13:49:31Z, activation date 2024-06-11 13:49:31Z, and expiration date 2024-09-09 13:49:31Z.
2024-06-11 16:49:31.727 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-bc1512d2-6914-4fbf-9a82-c2626a31bc8f.xml'.
2024-06-11 16:49:31.763 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 16:49:31.765 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 16:49:31.766 +03:00 [INF] Hosting environment: Development
2024-06-11 16:49:31.767 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 16:49:31.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:49:32.074 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 106.8308ms
2024-06-11 16:49:32.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:49:32.235 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.5886ms
2024-06-11 16:49:36.266 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 16:49:36.272 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 16:49:36.325 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:49:36.342 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 16:49:36.504 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 16:49:36.507 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:49:36.510 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:49:36.512 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:49:37.761 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 16:49:37.823 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:49:37.831 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:49:37.832 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:49:37.835 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1327.3786ms.
2024-06-11 16:49:37.843 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 16:49:37.847 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1500.994ms
2024-06-11 16:49:37.848 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:49:37.857 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1590.3715ms
2024-06-11 16:49:44.795 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:49:44.805 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:49:44.811 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 16:49:44.814 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:49:44.817 +03:00 [INF] Executing GetAll method
2024-06-11 16:49:44.996 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:49:45.027 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:49:45.028 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 212.39ms.
2024-06-11 16:49:45.029 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:49:45.045 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 232.6203ms
2024-06-11 16:49:45.047 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:49:45.048 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 253.1639ms
2024-06-11 16:49:55.314 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PlaceOfResidence - application/json 153
2024-06-11 16:49:55.319 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PlaceOfResidenceController.Add (WebApi)'
2024-06-11 16:49:55.322 +03:00 [INF] Route matched with {action = "Add", controller = "PlaceOfResidence"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceCreateDto) on controller WebApi.Controllers.PlaceOfResidenceController (WebApi).
2024-06-11 16:49:55.329 +03:00 [INF] Executing action method WebApi.Controllers.PlaceOfResidenceController.Add (WebApi) - Validation state: "Valid"
2024-06-11 16:49:55.331 +03:00 [INF] Executing Add method
2024-06-11 16:49:55.514 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaceOfResidences] ([Id], [ApartmentNumber], [City], [HouseNumber], [PersonInformationId], [Street], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-11 16:49:55.524 +03:00 [INF] Place of residence added successfully
2024-06-11 16:49:55.525 +03:00 [INF] Executed action method WebApi.Controllers.PlaceOfResidenceController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 195.4454ms.
2024-06-11 16:49:55.527 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 16:49:55.528 +03:00 [INF] Executed action WebApi.Controllers.PlaceOfResidenceController.Add (WebApi) in 205.4542ms
2024-06-11 16:49:55.530 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PlaceOfResidenceController.Add (WebApi)'
2024-06-11 16:49:55.531 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PlaceOfResidence - 200 null application/json; charset=utf-8 216.2991ms
2024-06-11 16:49:59.452 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:49:59.456 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:49:59.457 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 16:49:59.459 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:49:59.460 +03:00 [INF] Executing GetAll method
2024-06-11 16:49:59.522 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:49:59.528 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:49:59.529 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.3408ms.
2024-06-11 16:49:59.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:49:59.531 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 73.1354ms
2024-06-11 16:49:59.534 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:49:59.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 82.227ms
2024-06-11 16:52:12.998 +03:00 [INF] Application is shutting down...
2024-06-11 16:52:16.145 +03:00 [INF] Starting application
2024-06-11 16:52:16.237 +03:00 [INF] Configuring application
2024-06-11 16:52:16.346 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 16:52:16.372 +03:00 [INF] Creating key {063fd8a5-8fc5-463b-ade1-1b451855c213} with creation date 2024-06-11 13:52:16Z, activation date 2024-06-11 13:52:16Z, and expiration date 2024-09-09 13:52:16Z.
2024-06-11 16:52:16.378 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-063fd8a5-8fc5-463b-ade1-1b451855c213.xml'.
2024-06-11 16:52:16.418 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 16:52:16.420 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 16:52:16.421 +03:00 [INF] Hosting environment: Development
2024-06-11 16:52:16.421 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 16:52:16.640 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:52:16.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 109.1094ms
2024-06-11 16:52:16.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:52:16.918 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.1155ms
2024-06-11 16:52:22.817 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 16:52:22.823 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 16:52:22.877 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:52:22.894 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 16:52:23.066 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 16:52:23.068 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:52:23.070 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:52:23.072 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:52:24.415 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 16:52:24.541 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:52:24.558 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:52:24.559 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:52:24.567 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1494.2519ms.
2024-06-11 16:52:24.582 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 16:52:24.591 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1691.4227ms
2024-06-11 16:52:24.594 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:52:24.611 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1793.892ms
2024-06-11 16:52:30.540 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:52:30.550 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:52:30.557 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 16:52:30.560 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:52:30.563 +03:00 [INF] Executing GetAll method
2024-06-11 16:52:30.707 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:52:30.755 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:52:30.757 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 195.8106ms.
2024-06-11 16:52:30.759 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:52:30.793 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 234.4572ms
2024-06-11 16:52:30.795 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:52:30.796 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 255.9424ms
2024-06-11 16:55:57.773 +03:00 [INF] Application is shutting down...
2024-06-11 16:56:00.961 +03:00 [INF] Starting application
2024-06-11 16:56:01.053 +03:00 [INF] Configuring application
2024-06-11 16:56:01.166 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 16:56:01.195 +03:00 [INF] Creating key {1bd2173b-0ed7-4270-933c-fbb56f07e6d3} with creation date 2024-06-11 13:56:01Z, activation date 2024-06-11 13:56:01Z, and expiration date 2024-09-09 13:56:01Z.
2024-06-11 16:56:01.201 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-1bd2173b-0ed7-4270-933c-fbb56f07e6d3.xml'.
2024-06-11 16:56:01.240 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 16:56:01.243 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 16:56:01.243 +03:00 [INF] Hosting environment: Development
2024-06-11 16:56:01.244 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 16:56:01.409 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 16:56:01.523 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 114.8856ms
2024-06-11 16:56:01.561 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - null null
2024-06-11 16:56:01.575 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-11 16:56:01.577 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - 499 143943 text/css 15.8773ms
2024-06-11 16:56:01.639 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 16:56:01.709 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.9715ms
2024-06-11 16:56:07.225 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 16:56:07.230 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 16:56:07.283 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:56:07.301 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 16:56:07.480 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 16:56:07.482 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:56:07.484 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:56:07.485 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:56:08.783 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 16:56:08.906 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:56:08.924 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:56:08.925 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 16:56:08.933 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1445.8939ms.
2024-06-11 16:56:08.943 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 16:56:08.951 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1642.8845ms
2024-06-11 16:56:08.953 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 16:56:08.973 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1747.2699ms
2024-06-11 16:56:15.372 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 16:56:15.381 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:56:15.386 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 16:56:15.388 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 16:56:15.390 +03:00 [INF] Executing GetAll method
2024-06-11 16:56:15.533 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 16:56:15.579 +03:00 [INF] GetAll method executed successfully
2024-06-11 16:56:15.583 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 193.7841ms.
2024-06-11 16:56:15.615 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 16:56:15.645 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 257.5432ms
2024-06-11 16:56:15.650 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 16:56:15.652 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 279.8303ms
2024-06-11 17:03:13.189 +03:00 [INF] Application is shutting down...
2024-06-11 17:08:24.268 +03:00 [INF] Starting application
2024-06-11 17:08:24.360 +03:00 [INF] Configuring application
2024-06-11 17:08:24.471 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 17:08:24.498 +03:00 [INF] Creating key {977e7143-5abd-48e9-9649-0194fb78d348} with creation date 2024-06-11 14:08:24Z, activation date 2024-06-11 14:08:24Z, and expiration date 2024-09-09 14:08:24Z.
2024-06-11 17:08:24.504 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-977e7143-5abd-48e9-9649-0194fb78d348.xml'.
2024-06-11 17:08:24.545 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 17:08:24.547 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 17:08:24.548 +03:00 [INF] Hosting environment: Development
2024-06-11 17:08:24.549 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 17:08:24.743 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 17:08:24.850 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 107.6112ms
2024-06-11 17:08:24.878 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - null null
2024-06-11 17:08:24.889 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-11 17:08:24.890 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/swagger-ui.css - 499 143943 text/css 12.7529ms
2024-06-11 17:08:24.955 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 17:08:25.023 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.7185ms
2024-06-11 17:08:34.785 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 17:08:34.790 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 17:08:34.844 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 17:08:34.860 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 17:08:35.049 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 17:08:35.051 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:08:35.053 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:08:35.055 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:08:36.313 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 17:08:36.377 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:08:36.385 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:08:36.385 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:08:36.389 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1336.2041ms.
2024-06-11 17:08:36.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 17:08:36.398 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1534.0546ms
2024-06-11 17:08:36.399 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 17:08:36.408 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1622.2355ms
2024-06-11 17:08:43.910 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 17:08:43.916 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 17:08:43.920 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 17:08:43.922 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 17:08:43.924 +03:00 [INF] Executing GetAll method
2024-06-11 17:08:44.059 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 17:08:44.086 +03:00 [INF] GetAll method executed successfully
2024-06-11 17:08:44.088 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 165.4573ms.
2024-06-11 17:08:44.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 17:08:44.105 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 183.7908ms
2024-06-11 17:08:44.105 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 17:08:44.106 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 196.1678ms
2024-06-11 17:08:52.948 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation/8c14d5e6-0ebb-434f-fae3-08dc8a1b8197 - null null
2024-06-11 17:08:52.952 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetById (WebApi)'
2024-06-11 17:08:52.955 +03:00 [INF] Route matched with {action = "GetById", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[App.Dtos.PersonInformationDtos.PersonInformationDto]] GetById(System.Guid) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 17:08:52.958 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetById (WebApi) - Validation state: "Valid"
2024-06-11 17:08:52.959 +03:00 [INF] Executing GetById method with id: "8c14d5e6-0ebb-434f-fae3-08dc8a1b8197"
2024-06-11 17:08:53.060 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId], [p0].[Id], [p0].[ApartmentNumber], [p0].[City], [p0].[HouseNumber], [p0].[PersonInformationId], [p0].[Street], [p0].[UserId]
FROM [PersonInformations] AS [p]
LEFT JOIN [PlaceOfResidences] AS [p0] ON [p].[Id] = [p0].[PersonInformationId]
WHERE [p].[Id] = @__id_0 AND [p].[UserId] = @__userId_1
2024-06-11 17:08:53.086 +03:00 [INF] GetById method executed successfully for id: "8c14d5e6-0ebb-434f-fae3-08dc8a1b8197"
2024-06-11 17:08:53.087 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetById (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 128.2356ms.
2024-06-11 17:08:53.087 +03:00 [INF] Executing OkObjectResult, writing value of type 'App.Dtos.PersonInformationDtos.PersonInformationDto'.
2024-06-11 17:08:53.089 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetById (WebApi) in 133.4373ms
2024-06-11 17:08:53.090 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetById (WebApi)'
2024-06-11 17:08:53.091 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation/8c14d5e6-0ebb-434f-fae3-08dc8a1b8197 - 200 null application/json; charset=utf-8 142.7047ms
2024-06-11 17:10:58.084 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/User/GetById?id=8c14d5e6-0ebb-434f-fae3-08dc8a1b8197 - null null
2024-06-11 17:10:58.087 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-11 17:10:58.089 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-11 17:10:58.090 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/User/GetById?id=8c14d5e6-0ebb-434f-fae3-08dc8a1b8197 - 403 0 null 5.5064ms
2024-06-11 17:11:55.666 +03:00 [INF] Application is shutting down...
2024-06-11 17:11:58.968 +03:00 [INF] Starting application
2024-06-11 17:11:59.061 +03:00 [INF] Configuring application
2024-06-11 17:11:59.169 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 17:11:59.197 +03:00 [INF] Creating key {a7e38407-7113-43a1-a93e-359705341af5} with creation date 2024-06-11 14:11:59Z, activation date 2024-06-11 14:11:59Z, and expiration date 2024-09-09 14:11:59Z.
2024-06-11 17:11:59.203 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-a7e38407-7113-43a1-a93e-359705341af5.xml'.
2024-06-11 17:11:59.243 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 17:11:59.246 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 17:11:59.247 +03:00 [INF] Hosting environment: Development
2024-06-11 17:11:59.247 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 17:11:59.518 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 17:11:59.631 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 113.1888ms
2024-06-11 17:11:59.744 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 17:11:59.813 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.7857ms
2024-06-11 17:12:02.410 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 17:12:02.416 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 17:12:02.471 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 17:12:02.490 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 17:12:02.679 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 17:12:02.682 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:12:02.684 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:12:02.685 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:12:03.953 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 17:12:04.017 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:12:04.025 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:12:04.026 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:12:04.029 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1346.337ms.
2024-06-11 17:12:04.037 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 17:12:04.040 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 1546.297ms
2024-06-11 17:12:04.042 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 17:12:04.050 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 1640.0647ms
2024-06-11 17:12:18.969 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/User/GetAll - null null
2024-06-11 17:12:18.975 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAll (WebApi)'
2024-06-11 17:12:18.979 +03:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[App.Dtos.UserDtos.UserDto]]] GetAll() on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 17:12:18.981 +03:00 [INF] Executing action method WebApi.Controllers.UserController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 17:12:18.982 +03:00 [INF] Executing GetAll method
2024-06-11 17:12:18.984 +03:00 [INF] Getting all users
2024-06-11 17:12:18.985 +03:00 [INF] Fetching all users
2024-06-11 17:12:19.088 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
2024-06-11 17:12:19.091 +03:00 [INF] Successfully fetched all users
2024-06-11 17:12:19.101 +03:00 [INF] Successfully retrieved all users
2024-06-11 17:12:19.101 +03:00 [INF] GetAll method executed successfully
2024-06-11 17:12:19.102 +03:00 [INF] Executed action method WebApi.Controllers.UserController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.9101ms.
2024-06-11 17:12:19.104 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.UserDtos.UserDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 17:12:19.117 +03:00 [INF] Executed action WebApi.Controllers.UserController.GetAll (WebApi) in 137.709ms
2024-06-11 17:12:19.119 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAll (WebApi)'
2024-06-11 17:12:19.121 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/User/GetAll - 200 null application/json; charset=utf-8 151.5501ms
2024-06-11 17:12:27.081 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/User/GetById?id=d2776d46-deb0-4831-52a1-08dc8a1a04a0 - null null
2024-06-11 17:12:27.085 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetById (WebApi)'
2024-06-11 17:12:27.088 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[App.Dtos.UserDtos.UserDto]] GetById(System.Guid) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 17:12:27.095 +03:00 [INF] Executing action method WebApi.Controllers.UserController.GetById (WebApi) - Validation state: "Valid"
2024-06-11 17:12:27.097 +03:00 [INF] Executing GetById method with id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:27.098 +03:00 [INF] Getting user by id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:27.099 +03:00 [INF] Fetching user by id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:27.285 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[UserName], [s].[Id], [s].[Birthday], [s].[Email], [s].[FirstName], [s].[Gender], [s].[LastName], [s].[PersonalCode], [s].[PhoneNumber], [s].[UserId], [s].[Id0], [s].[ApartmentNumber], [s].[City], [s].[HouseNumber], [s].[PersonInformationId], [s].[Street], [s].[UserId0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId], [p0].[Id] AS [Id0], [p0].[ApartmentNumber], [p0].[City], [p0].[HouseNumber], [p0].[PersonInformationId], [p0].[Street], [p0].[UserId] AS [UserId0]
    FROM [PersonInformations] AS [p]
    LEFT JOIN [PlaceOfResidences] AS [p0] ON [p].[Id] = [p0].[PersonInformationId]
) AS [s] ON [u0].[Id] = [s].[UserId]
ORDER BY [u0].[Id], [s].[Id]
2024-06-11 17:12:27.331 +03:00 [INF] Successfully retrieved user by id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:27.332 +03:00 [INF] GetById method executed successfully for id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:27.333 +03:00 [INF] Executed action method WebApi.Controllers.UserController.GetById (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 236.659ms.
2024-06-11 17:12:27.334 +03:00 [INF] Executing OkObjectResult, writing value of type 'App.Dtos.UserDtos.UserDto'.
2024-06-11 17:12:27.338 +03:00 [INF] Executed action WebApi.Controllers.UserController.GetById (WebApi) in 249.8366ms
2024-06-11 17:12:27.339 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetById (WebApi)'
2024-06-11 17:12:27.340 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/User/GetById?id=d2776d46-deb0-4831-52a1-08dc8a1a04a0 - 200 null application/json; charset=utf-8 259.2957ms
2024-06-11 17:12:36.258 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5236/api/User/Delete?id=d2776d46-deb0-4831-52a1-08dc8a1a04a0 - null null
2024-06-11 17:12:36.260 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUser (WebApi)'
2024-06-11 17:12:36.263 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.Guid) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 17:12:36.264 +03:00 [INF] Executing action method WebApi.Controllers.UserController.DeleteUser (WebApi) - Validation state: "Valid"
2024-06-11 17:12:36.265 +03:00 [INF] Executing DeleteUser method with id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:36.267 +03:00 [INF] Deleting user with id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:36.267 +03:00 [INF] Fetching user by id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:36.322 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[UserName], [s].[Id], [s].[Birthday], [s].[Email], [s].[FirstName], [s].[Gender], [s].[LastName], [s].[PersonalCode], [s].[PhoneNumber], [s].[UserId], [s].[Id0], [s].[ApartmentNumber], [s].[City], [s].[HouseNumber], [s].[PersonInformationId], [s].[Street], [s].[UserId0]
FROM (
    SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId], [p0].[Id] AS [Id0], [p0].[ApartmentNumber], [p0].[City], [p0].[HouseNumber], [p0].[PersonInformationId], [p0].[Street], [p0].[UserId] AS [UserId0]
    FROM [PersonInformations] AS [p]
    LEFT JOIN [PlaceOfResidences] AS [p0] ON [p].[Id] = [p0].[PersonInformationId]
) AS [s] ON [u0].[Id] = [s].[UserId]
ORDER BY [u0].[Id], [s].[Id]
2024-06-11 17:12:36.325 +03:00 [INF] Deleting user with id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:36.568 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [PlaceOfResidences]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [PersonInformations]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p2;
2024-06-11 17:12:36.639 +03:00 [INF] Successfully deleted user with id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:36.639 +03:00 [INF] Successfully deleted user with id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:36.640 +03:00 [INF] User deleted successfully with id: "d2776d46-deb0-4831-52a1-08dc8a1a04a0"
2024-06-11 17:12:36.641 +03:00 [INF] Executed action method WebApi.Controllers.UserController.DeleteUser (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 375.8329ms.
2024-06-11 17:12:36.641 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 17:12:36.643 +03:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUser (WebApi) in 379.0957ms
2024-06-11 17:12:36.643 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUser (WebApi)'
2024-06-11 17:12:36.644 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5236/api/User/Delete?id=d2776d46-deb0-4831-52a1-08dc8a1a04a0 - 200 null application/json; charset=utf-8 385.7105ms
2024-06-11 17:12:42.595 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/User/GetAll - null null
2024-06-11 17:12:42.597 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAll (WebApi)'
2024-06-11 17:12:42.598 +03:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[App.Dtos.UserDtos.UserDto]]] GetAll() on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 17:12:42.599 +03:00 [INF] Executing action method WebApi.Controllers.UserController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 17:12:42.600 +03:00 [INF] Executing GetAll method
2024-06-11 17:12:42.600 +03:00 [INF] Getting all users
2024-06-11 17:12:42.601 +03:00 [INF] Fetching all users
2024-06-11 17:12:42.657 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
2024-06-11 17:12:42.658 +03:00 [INF] Successfully fetched all users
2024-06-11 17:12:42.659 +03:00 [INF] Successfully retrieved all users
2024-06-11 17:12:42.659 +03:00 [INF] GetAll method executed successfully
2024-06-11 17:12:42.660 +03:00 [INF] Executed action method WebApi.Controllers.UserController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.0804ms.
2024-06-11 17:12:42.660 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.UserDtos.UserDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 17:12:42.661 +03:00 [INF] Executed action WebApi.Controllers.UserController.GetAll (WebApi) in 62.2358ms
2024-06-11 17:12:42.662 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAll (WebApi)'
2024-06-11 17:12:42.663 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/User/GetAll - 200 null application/json; charset=utf-8 67.6671ms
2024-06-11 17:12:46.580 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 17:12:46.582 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 17:12:46.584 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 17:12:46.586 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 17:12:46.587 +03:00 [INF] Executing GetAll method
2024-06-11 17:12:46.653 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 17:12:46.657 +03:00 [INF] GetAll method executed successfully
2024-06-11 17:12:46.657 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 70.9617ms.
2024-06-11 17:12:46.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 17:12:46.659 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 73.7263ms
2024-06-11 17:12:46.660 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 17:12:46.661 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 80.628ms
2024-06-11 17:12:50.815 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PlaceOfResidence - null null
2024-06-11 17:12:50.817 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi)'
2024-06-11 17:12:50.820 +03:00 [INF] Route matched with {action = "GetAll", controller = "PlaceOfResidence"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceDto]]] GetAll() on controller WebApi.Controllers.PlaceOfResidenceController (WebApi).
2024-06-11 17:12:50.822 +03:00 [INF] Executing action method WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 17:12:50.823 +03:00 [INF] Executing GetAll method
2024-06-11 17:12:50.889 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[ApartmentNumber], [p].[City], [p].[HouseNumber], [p].[PersonInformationId], [p].[Street], [p].[UserId]
FROM [PlaceOfResidences] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 17:12:50.894 +03:00 [INF] GetAll method executed successfully
2024-06-11 17:12:50.895 +03:00 [INF] Executed action method WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.5807ms.
2024-06-11 17:12:50.899 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PlaceOfResidenceDtos.PlaceOfResidenceDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 17:12:50.900 +03:00 [INF] Executed action WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi) in 79.3373ms
2024-06-11 17:12:50.902 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PlaceOfResidenceController.GetAll (WebApi)'
2024-06-11 17:12:50.902 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PlaceOfResidence - 200 null application/json; charset=utf-8 87.3812ms
2024-06-11 17:12:54.891 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 177
2024-06-11 17:12:54.893 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 17:12:54.896 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 17:12:54.904 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.Add (WebApi) - Validation state: "Valid"
2024-06-11 17:12:54.906 +03:00 [INF] Executing Add method
2024-06-11 17:12:55.002 +03:00 [ERR] Failed executing DbCommand (66ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PersonInformations] ([Id], [Birthday], [Email], [FirstName], [Gender], [LastName], [PersonalCode], [PhoneNumber], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-06-11 17:12:55.018 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.MainDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PersonInformations_Users_UserId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:14dcd29e-8716-4a31-8f5a-b6496df25d6d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PersonInformations_Users_UserId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:14dcd29e-8716-4a31-8f5a-b6496df25d6d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-11 17:12:55.023 +03:00 [ERR] Error occurred while Adding Person Information with id: "00000000-0000-0000-0000-000000000000"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PersonInformations_Users_UserId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:14dcd29e-8716-4a31-8f5a-b6496df25d6d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DataAccess.Repositories.PersonInformationRepository.AddAsync(PersonInformation entity, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\DataAccess\Repositories\PersonInformationRepository.cs:line 33
   at App.Services.PersonInformationService.AddAsync(PersonInformationCreateDto personInformationDto, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\App\Services\PersonInformationService.cs:line 40
   at WebApi.Controllers.PersonInformationController.Add(PersonInformationCreateDto dto) in C:\Projects\Rider\FinalCodeAcademyApp\WebApi\Controllers\PersonInformationController.cs:line 77
2024-06-11 17:12:55.038 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 132.6804ms.
2024-06-11 17:12:55.038 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-06-11 17:12:55.039 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 142.1256ms
2024-06-11 17:12:55.040 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 17:12:55.041 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 500 null text/plain; charset=utf-8 149.9222ms
2024-06-11 17:13:24.327 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 177
2024-06-11 17:13:24.329 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 17:13:24.329 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 17:13:24.332 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.Add (WebApi) - Validation state: "Valid"
2024-06-11 17:13:24.333 +03:00 [INF] Executing Add method
2024-06-11 17:13:24.391 +03:00 [ERR] Failed executing DbCommand (56ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PersonInformations] ([Id], [Birthday], [Email], [FirstName], [Gender], [LastName], [PersonalCode], [PhoneNumber], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-06-11 17:13:24.393 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.MainDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PersonInformations_Users_UserId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:14dcd29e-8716-4a31-8f5a-b6496df25d6d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PersonInformations_Users_UserId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:14dcd29e-8716-4a31-8f5a-b6496df25d6d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-11 17:13:24.398 +03:00 [ERR] Error occurred while Adding Person Information with id: "00000000-0000-0000-0000-000000000000"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_PersonInformations_Users_UserId". The conflict occurred in database "FinalCodeAcademyApp", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:14dcd29e-8716-4a31-8f5a-b6496df25d6d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DataAccess.Repositories.PersonInformationRepository.AddAsync(PersonInformation entity, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\DataAccess\Repositories\PersonInformationRepository.cs:line 33
   at App.Services.PersonInformationService.AddAsync(PersonInformationCreateDto personInformationDto, Guid userId) in C:\Projects\Rider\FinalCodeAcademyApp\App\Services\PersonInformationService.cs:line 40
   at WebApi.Controllers.PersonInformationController.Add(PersonInformationCreateDto dto) in C:\Projects\Rider\FinalCodeAcademyApp\WebApi\Controllers\PersonInformationController.cs:line 77
2024-06-11 17:13:24.402 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 69.0359ms.
2024-06-11 17:13:24.403 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-06-11 17:13:24.403 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 72.8227ms
2024-06-11 17:13:24.404 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 17:13:24.405 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 500 null text/plain; charset=utf-8 77.8974ms
2024-06-11 17:13:28.290 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/api/PersonInformation - null null
2024-06-11 17:13:28.292 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 17:13:28.292 +03:00 [INF] Route matched with {action = "GetAll", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[App.Dtos.PersonInformationDtos.PersonInformationDto]]] GetAll() on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 17:13:28.293 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.GetAll (WebApi) - Validation state: "Valid"
2024-06-11 17:13:28.294 +03:00 [INF] Executing GetAll method
2024-06-11 17:13:28.357 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Birthday], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PersonalCode], [p].[PhoneNumber], [p].[UserId]
FROM [PersonInformations] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-06-11 17:13:28.358 +03:00 [INF] GetAll method executed successfully
2024-06-11 17:13:28.359 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.GetAll (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64.9024ms.
2024-06-11 17:13:28.360 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[App.Dtos.PersonInformationDtos.PersonInformationDto, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-11 17:13:28.360 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.GetAll (WebApi) in 67.1792ms
2024-06-11 17:13:28.361 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.GetAll (WebApi)'
2024-06-11 17:13:28.361 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 71.0954ms
2024-06-11 17:13:38.107 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 160
2024-06-11 17:13:38.109 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 17:13:38.112 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 17:13:38.116 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Register (WebApi) - Validation state: "Valid"
2024-06-11 17:13:38.118 +03:00 [INF] Executing Register method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:38.119 +03:00 [INF] Registering user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:38.119 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:38.173 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 17:13:38.175 +03:00 [WRN] User with username: NinWnN7v8HOwsKPvNkNr not found
2024-06-11 17:13:38.176 +03:00 [INF] Creating user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:38.178 +03:00 [INF] Creating user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:38.244 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 8000) (DbType = Binary), @p3='?' (Size = 15), @p4='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [PasswordSalt], [Role], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 17:13:38.247 +03:00 [INF] Successfully created user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:38.247 +03:00 [INF] Successfully registered user with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:38.248 +03:00 [INF] User registered successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:38.248 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Register (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 130.8987ms.
2024-06-11 17:13:38.249 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 17:13:38.249 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 136.0075ms
2024-06-11 17:13:38.250 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 17:13:38.251 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 200 null application/json; charset=utf-8 143.551ms
2024-06-11 17:13:39.964 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Login - application/json 99
2024-06-11 17:13:39.966 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 17:13:39.966 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Dtos.UserDtos.UserLoginDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 17:13:39.968 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Login (WebApi) - Validation state: "Valid"
2024-06-11 17:13:39.968 +03:00 [INF] Executing Login method for userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:39.969 +03:00 [INF] User login attempt with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:39.969 +03:00 [INF] Fetching user by username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:40.023 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 17:13:40.025 +03:00 [INF] Generating JWT token for username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:40.025 +03:00 [INF] User successfully logged in with username: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:40.026 +03:00 [INF] User logged in successfully with userName: NinWnN7v8HOwsKPvNkNr
2024-06-11 17:13:40.026 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Login (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.7827ms.
2024-06-11 17:13:40.027 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-06-11 17:13:40.027 +03:00 [INF] Executed action WebApi.Controllers.UserController.Login (WebApi) in 59.778ms
2024-06-11 17:13:40.028 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Login (WebApi)'
2024-06-11 17:13:40.028 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Login - 200 null text/plain; charset=utf-8 63.7954ms
2024-06-11 17:13:52.590 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/PersonInformation - application/json 177
2024-06-11 17:13:52.592 +03:00 [INF] Executing endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 17:13:52.593 +03:00 [INF] Route matched with {action = "Add", controller = "PersonInformation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(App.Dtos.PersonInformationDtos.PersonInformationCreateDto) on controller WebApi.Controllers.PersonInformationController (WebApi).
2024-06-11 17:13:52.594 +03:00 [INF] Executing action method WebApi.Controllers.PersonInformationController.Add (WebApi) - Validation state: "Valid"
2024-06-11 17:13:52.595 +03:00 [INF] Executing Add method
2024-06-11 17:13:52.655 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PersonInformations] ([Id], [Birthday], [Email], [FirstName], [Gender], [LastName], [PersonalCode], [PhoneNumber], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-06-11 17:13:52.657 +03:00 [INF] Person Information added successfully
2024-06-11 17:13:52.657 +03:00 [INF] Executed action method WebApi.Controllers.PersonInformationController.Add (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.7439ms.
2024-06-11 17:13:52.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 17:13:52.659 +03:00 [INF] Executed action WebApi.Controllers.PersonInformationController.Add (WebApi) in 65.3869ms
2024-06-11 17:13:52.660 +03:00 [INF] Executed endpoint 'WebApi.Controllers.PersonInformationController.Add (WebApi)'
2024-06-11 17:13:52.660 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/PersonInformation - 200 null application/json; charset=utf-8 70.112ms
2024-06-11 17:25:37.775 +03:00 [INF] Application is shutting down...
2024-06-11 18:35:47.253 +03:00 [INF] Starting application
2024-06-11 18:35:47.350 +03:00 [INF] Configuring application
2024-06-11 18:35:47.466 +03:00 [INF] User profile is available. Using 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-11 18:35:47.495 +03:00 [INF] Creating key {12d7528e-8795-419b-a8b4-5c687e705b35} with creation date 2024-06-11 15:35:47Z, activation date 2024-06-11 15:35:47Z, and expiration date 2024-09-09 15:35:47Z.
2024-06-11 18:35:47.501 +03:00 [INF] Writing data to file 'C:\Users\tarvy\AppData\Local\ASP.NET\DataProtection-Keys\key-12d7528e-8795-419b-a8b4-5c687e705b35.xml'.
2024-06-11 18:35:47.559 +03:00 [INF] Now listening on: http://localhost:5236
2024-06-11 18:35:47.562 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-11 18:35:47.562 +03:00 [INF] Hosting environment: Development
2024-06-11 18:35:47.563 +03:00 [INF] Content root path: C:\Projects\Rider\FinalCodeAcademyApp\WebApi
2024-06-11 18:35:48.081 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/index.html - null null
2024-06-11 18:35:48.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/index.html - 200 null text/html;charset=utf-8 113.7089ms
2024-06-11 18:35:48.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/favicon-16x16.png - null null
2024-06-11 18:35:48.290 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-11 18:35:48.292 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/favicon-16x16.png - 499 665 image/png 11.1773ms
2024-06-11 18:35:48.314 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - null null
2024-06-11 18:35:48.390 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5236/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.1357ms
2024-06-11 18:36:01.490 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5236/api/User/Register - application/json 160
2024-06-11 18:36:01.495 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-11 18:36:01.514 +03:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 18:36:01.531 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(App.Dtos.UserDtos.UserRegisterDto) on controller WebApi.Controllers.UserController (WebApi).
2024-06-11 18:36:01.736 +03:00 [INF] Executing action method WebApi.Controllers.UserController.Register (WebApi) - Validation state: "Valid"
2024-06-11 18:36:01.739 +03:00 [INF] Executing Register method for userName: bz1pDLAnCZMHy37nwC3v
2024-06-11 18:36:01.741 +03:00 [INF] Registering user with username: bz1pDLAnCZMHy37nwC3v
2024-06-11 18:36:01.742 +03:00 [INF] Fetching user by username: bz1pDLAnCZMHy37nwC3v
2024-06-11 18:36:03.046 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[UserName] = @__username_0
2024-06-11 18:36:03.069 +03:00 [WRN] User with username: bz1pDLAnCZMHy37nwC3v not found
2024-06-11 18:36:03.071 +03:00 [INF] Creating user with username: bz1pDLAnCZMHy37nwC3v
2024-06-11 18:36:03.073 +03:00 [INF] Creating user with username: bz1pDLAnCZMHy37nwC3v
2024-06-11 18:36:03.265 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 8000) (DbType = Binary), @p3='?' (Size = 15), @p4='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [PasswordSalt], [Role], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 18:36:03.275 +03:00 [INF] Successfully created user with username: bz1pDLAnCZMHy37nwC3v
2024-06-11 18:36:03.275 +03:00 [INF] Successfully registered user with username: bz1pDLAnCZMHy37nwC3v
2024-06-11 18:36:03.276 +03:00 [INF] User registered successfully with userName: bz1pDLAnCZMHy37nwC3v
2024-06-11 18:36:03.281 +03:00 [INF] Executed action method WebApi.Controllers.UserController.Register (WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1540.9269ms.
2024-06-11 18:36:03.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'WebApi.Models.Response'.
2024-06-11 18:36:03.295 +03:00 [INF] Executed action WebApi.Controllers.UserController.Register (WebApi) in 1759.5436ms
2024-06-11 18:36:03.296 +03:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Register (WebApi)'
2024-06-11 18:36:03.306 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5236/api/User/Register - 200 null application/json; charset=utf-8 1815.4977ms
2024-06-11 18:38:56.595 +03:00 [INF] Application is shutting down...
